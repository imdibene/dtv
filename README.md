# Device Tree Visualiser

This small cli tool generates a graphical representation of a *device-tree-blob*\
if you are like me, and have a monkey brain and need to see the pretty pictures to\
understand all those fancy words, this tool might help you to understand the relationships\
of the devices of your platform.

## How to build it

First you need to *build* the build system, and then use it to build the application, i.e. run the following commands

```shell
clang -o nob nob.c
./nob
```

This will create the `dtv` binary under `build` directory. Now you can use the tool

```shell
./dtv foo.dtb <render_engine: dot|fdp>

./dtv foo.dtb fdp
./dtv foo.dtb dot
```

This will create a `foo.svg` as output, now your device tree has a graphical representation.

## Repository organization

```shell
.
├── LICENSE                             # License (MIT)
├── README.md                           # This page
├── build                               # Autogenerated at build-time
│   └── dtv                             # The cli tool
├── examples                            # Render layouts examples
│   ├── am335x-bone__dot__layout.svg    # rendered with 'dot' layout engine
│   └── am335x-bone__fdp__layout.svg    # rendered with 'fdp' layout engine
├── external                            # external static libraries and dependencies
│   └── nob.h                           # Build system header
├── nob                                 # Build system
├── nob.c                               # Build system sources
├── src                                 # This project sources
│   └── dtv.cc                          # main
└── utils                               # Collection of utilities
    └── dependencies                    # Check project dependencies
```

## tl;dr

foo.dtb -> [ dtv : dot|fdp ] -> foo.svg

## References

- [git kernel tree: Documentation/devicetree](https://web.git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Documentation/devicetree)
- [Website: https://www.devicetree.org](https://www.devicetree.org)
- [Video: Device Tree for Dummies! - Thomas Petazzoni, Free Electrons](https://youtu.be/m_NyYEBxfn8?si=gxfQnGGdv6R7iz1e)
- [Video: Device Tree: hardware description for everybody!](https://youtu.be/Nz6aBffv-Ek?si=vWhUn6WJIg9Tt-xT)
